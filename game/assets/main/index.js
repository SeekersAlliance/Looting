System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts"],(function(e){var o,i,u,n,t,r,s,c,a,d,p;return{setters:[function(e){o=e.createClass,i=e.asyncToGenerator,u=e.regeneratorRuntime},function(e){n=e.cclegacy,t=e._decorator,r=e.AudioSource,s=e.AudioClip,c=e.resources,a=e.Node,d=e.director},function(e){p=e.WaitForSeconds}],execute:function(){var l,f;n._RF.push({},"6013aO/HDBFwLx6nr8rngDc","AudioManager",void 0);var h=t.ccclass;t.property,e("AudioManager",h("AudioManager")(((f=function(){function e(){this._musicAudioSource=void 0,this._soundAudioSourceList=[];var e=new a;e.name="AudioMgr",d.getScene().addChild(e),this._musicAudioSource=e.addComponent(r)}var n=e.prototype;return n.prepare=function(){var e=i(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.mediaDevices.getUserMedia({audio:!0});case 3:if(!e.sent.active){e.next=6;break}return e.abrupt("return");case 6:e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:return console.log("Maybe can't Play Audio, please agree audio permissions in setting."),e.abrupt("return");case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),n.playOneShot=function(){var e=i(u().mark((function e(o,i,n){var t=this;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===i&&(i=1),void 0===n&&(n=0),!(o instanceof s)){e.next=9;break}if(!(n>0)){e.next=6;break}return e.next=6,p(n);case 6:this.playSound(o,i),e.next=10;break;case 9:c.load(o,(function(e,o){e?console.log(e):t.playSound(o,i)}));case 10:case"end":return e.stop()}}),e,this)})));return function(o,i,u){return e.apply(this,arguments)}}(),n.playSound=function(e,o){var i=this._soundAudioSourceList.find((function(e){return!e.playing}));if(null==i){var u=this._musicAudioSource.node.addComponent(r);u.playOneShot(e,o),this._soundAudioSourceList.push(u)}else i.playOneShot(e,o)},n.playMusic=function(e,o){var i=this;void 0===o&&(o=1),e instanceof s?(this._musicAudioSource.stop(),this._musicAudioSource.clip=e,this._musicAudioSource.play(),this._musicAudioSource.volume=o,this._musicAudioSource.loop=!0):c.load(e,(function(e,u){e?console.log(e):(i._musicAudioSource.stop(),i._musicAudioSource.clip=u,i._musicAudioSource.play(),i._musicAudioSource.volume=o,i._musicAudioSource.loop=!0)}))},n.stopMusic=function(){this._musicAudioSource.stop()},n.pauseMusic=function(){this._musicAudioSource.pause()},n.resumeMusic=function(){this._musicAudioSource.play()},o(e,null,[{key:"inst",get:function(){return null==this._inst&&(this._inst=new e),this._inst}}]),e}())._inst=void 0,l=f))||l);n._RF.pop()}}}));

System.register("chunks:///_virtual/BattleSystem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./CardManager.ts","./TableManager.ts","./Common.ts","./SourceManager.ts","./CharacterManager.ts","./AudioManager.ts"],(function(e){var t,n,r,a,i,o,s,c,u,l,p,h,d,y,f,_,v,C,g,m,b;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,u=e.Button,l=e.Animation,p=e.sp,h=e.game,d=e.Director,y=e.Component},function(e){f=e.CardManager},function(e){_=e.TableManager},function(e){v=e.WaitForSeconds},function(e){C=e.SourceManager,g=e.WinnerType},function(e){m=e.CharacterManager},function(e){b=e.AudioManager}],execute:function(){var M,w,x,A,k,B,S,E,P,I,z,D,T,F,L,O,W,G,R,N,H,V,j,Y,U;s._RF.push({},"b3be2CF3eROerj9ify40PGS","BattleSystem",void 0);var q=c.ccclass,J=c.property;e("BattleSystem",(M=q("BattleSystem"),w=J({type:f,visible:!0}),x=J({type:f,visible:!0}),A=J({type:_,visible:!0}),k=J({type:m,visible:!0}),B=J({type:m,visible:!0}),S=J({type:u,visible:!0}),E=J({type:l,visible:!0}),P=J({type:p.Skeleton,visible:!0}),I=J({type:l,visible:!0}),z=J({type:u,visible:!0}),D=J({type:u,visible:!0}),M((L=t((F=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"_playerCardManager",L,a(t)),r(t,"_enemyCardManager",O,a(t)),r(t,"_tableManager",W,a(t)),r(t,"_playerCharacter",G,a(t)),r(t,"_enemyCharacter",R,a(t)),r(t,"_endButton",N,a(t)),r(t,"_revealAnim",H,a(t)),r(t,"_skillSpine",V,a(t)),r(t,"_victoryAnim",j,a(t)),r(t,"_nextButton",Y,a(t)),r(t,"_testButton",U,a(t)),t}n(t,e);var s=t.prototype;return s.onLoad=function(){h.emit("game_scene_loaded")},s.start=function(){d.EVENT_BEFORE_SCENE_LAUNCH,this.init()},s.init=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._endButton.node.active=!0,this._endButton.interactable=!1,this._revealAnim.node.active=!1,this._victoryAnim.node.active=!1,this._nextButton.node.active=!1,this._skillSpine.node.active=!1,this._testButton.node.active=!1,this.setListener(),e.next=10,b.inst.prepare();case 10:this.process();case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickTest=function(){this.showPlayerWin()},s.resetAll=function(){this._endButton.node.active=!0,this._endButton.interactable=!1,this._revealAnim.node.active=!1,this._victoryAnim.node.active=!1,this._nextButton.node.active=!1,this._skillSpine.node.active=!1,this._tableManager.init(),this._playerCardManager.clearCards(),this._enemyCardManager.clearCards(),this._playerCharacter.playIdle(),this._enemyCharacter.playIdle()},s.setListener=function(){C.Instance.eventTarget.on("drag_start",this.onCardDragStart.bind(this)),C.Instance.eventTarget.on("drag_end",this.onCardDragEnd.bind(this))},s.process=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.inst.playMusic(C.Instance.getAudioClip("music"),.5),this._playerCardManager.randomPlayerCards(),this._enemyCardManager.setEnemyCards(),e.next=5,this.showCards();case 5:return e.next=7,this.waitForPlayerMoveCards();case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.showCards=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._playerCardManager.createCards(),this._enemyCardManager.createCards(!0),this._enemyCardManager.doMoveIn(),b.inst.playOneShot(C.Instance.getAudioClip("show_cards")),e.next=6,this._playerCardManager.doMoveIn();case 6:return e.next=8,v(.5);case 8:return e.next=10,this._playerCardManager.flopCards();case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.waitForPlayerMoveCards=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._playerCardManager.setCanDropCard(),this._tableManager.waitForPlayeMoved();case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onCardDragStart=function(){this._endButton.interactable=!1},s.onCardDragEnd=function(){var e=this._playerCardManager.checkNoMoreHandCard();this._endButton.interactable=e},s.onClickEndTurn=function(){b.inst.playOneShot(C.Instance.getAudioClip("click_button")),this._endButton.node.active=!1,this._playerCardManager.stopTouchDragCards(),this.afterEndTurn()},s.afterEndTurn=function(){var e=i(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this._tableManager.getEnemyCardSitePos(),this._enemyCardManager.pushAllCards(t),this._revealAnim.node.active=!0,this._revealAnim.play(),e.next=6,v(this._revealAnim.defaultClip.duration);case 6:this._revealAnim.node.active=!1,n=0;case 8:if(!(n<this._tableManager.fightBoxCount)){e.next=18;break}return e.next=11,this._enemyCardManager.flopGroupCards(n);case 11:return e.next=13,this.checkCardGroupPoints(n);case 13:return e.next=15,v(.5);case 15:n++,e.next=8;break;case 18:if(!(this._tableManager.playerWinnerCount>=2)){e.next=24;break}return e.next=21,this.showPlayerWin();case 21:this.showVictory(),e.next=24;break;case 24:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.checkCardGroupPoints=function(){var e=i(o().mark((function e(t){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this._playerCardManager.getSameGroupCardPoints(t),r=this._enemyCardManager.getSameGroupCardPoints(t),a=g.DRAW,n>r?a=g.PLAYER:n<r&&(a=g.ENEMY),e.next=6,this._tableManager.setBoxPoints(t,a,n,r);case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.showPlayerWin=function(){var e=i(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b.inst.playOneShot(C.Instance.getAudioClip("skill")),e.next=3,v(.2);case 3:return this._playerCharacter.playWin(),e.next=6,v(this._playerCharacter.animDuration-.25);case 6:return this._skillSpine.node.active=!0,t=this._skillSpine.setAnimation(0,"ultraEffect",!1),e.next=10,v(t.animation.duration);case 10:return this._skillSpine.node.active=!1,this._enemyCharacter.playLose(),b.inst.playOneShot(C.Instance.getAudioClip("dead"),1,1),e.next=15,v(this._enemyCharacter.animDuration);case 15:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.showVictory=function(){var e=i(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._victoryAnim.node.active=!0,this._victoryAnim.play(),b.inst.playOneShot(C.Instance.getAudioClip("victory")),e.next=5,v(this._victoryAnim.defaultClip.duration);case 5:b.inst.playMusic(C.Instance.getAudioClip("victory_music"),.75),this._nextButton.node.active=!0,this._nextButton.interactable=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),s.onClickNextButton=function(){b.inst.playOneShot(C.Instance.getAudioClip("click_button")),this._nextButton.interactable=!1,window.location.href="../getcard.html"},t}(y)).prototype,"_playerCardManager",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(F.prototype,"_enemyCardManager",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(F.prototype,"_tableManager",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=t(F.prototype,"_playerCharacter",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(F.prototype,"_enemyCharacter",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(F.prototype,"_endButton",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(F.prototype,"_revealAnim",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(F.prototype,"_skillSpine",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(F.prototype,"_victoryAnim",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(F.prototype,"_nextButton",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(F.prototype,"_testButton",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=F))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/Card.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./FightBoxSite.ts","./SourceManager.ts","./AudioManager.ts"],(function(t){var i,e,n,o,s,a,r,c,h,l,u,d,g,p,f,_,C,T,v,S,D;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.createClass,o=t.initializerDefineProperty,s=t.assertThisInitialized,a=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){c=t.cclegacy,h=t._decorator,l=t.Sprite,u=t.BoxCollider2D,d=t.Vec3,g=t.Node,p=t.Contact2DType,f=t.Component,_=t.tween},function(t){C=t.Debug,T=t.WaitForSeconds},function(t){v=t.FightBoxSite},function(t){S=t.SourceManager},function(t){D=t.AudioManager}],execute:function(){var x,b,y,B,L,E,m;c._RF.push({},"f4df63xfCtElKJ15uITEXq7","Card",void 0);var w=h.ccclass,A=h.property;t("Card",(x=w("Card"),b=A({type:l,visible:!0}),y=A({type:u,visible:!0}),x((E=i((L=function(t){function i(){for(var i,e=arguments.length,n=new Array(e),a=0;a<e;a++)n[a]=arguments[a];return(i=t.call.apply(t,[this].concat(n))||this).point=0,i.tableGroup=-1,o(i,"_sprite",E,s(i)),o(i,"_collider",m,s(i)),i._isDragable=!0,i._isFlip=!1,i.isDragStart=!1,i._isDraging=!1,i._contactBoxList=[],i}e(i,t);var c=i.prototype;return c.onLoad=function(){this._isDragable=!1,this.isDragStart=!1,this._isDraging=!1,this.setColliderStatus(!1)},c.resetCard=function(){this.tableGroup=-1,this.point=0,this._contactBoxList=[],this._isDragable=!1,this.isDragStart=!1,this._isDraging=!1,this.setColliderStatus(!1)},c.changeSprite=function(t){this._sprite.spriteFrame=t},c.setHandAngleAndPos=function(t,i,e){this._isFlip=e,this.setAngle(t),this.node.setPosition(i)},c.setScale=function(t){this._isFlip?this.node.setScale(new d(-t,-t,t)):this.node.setScale(new d(t,t,t))},c.setAngle=function(t){this._isFlip?this.node.angle=-t:this.node.angle=t},c.setHandMode=function(){this.setScale(2),this.tableGroup=-1,this.setColliderStatus(!1)},c.setMoveMode=function(){this.setAngle(0),this.setScale(1),this.setColliderStatus(!0),this.node.setSiblingIndex(5)},c.setPushMode=function(t,i){this.tableGroup=t,this.setAngle(0),this.setScale(1),this.node.setWorldPosition(i),this.setColliderStatus(!1)},c.flop=function(){var t=a(r().mark((function t(i){var e,n;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.node.scale.x,n=.2,D.inst.playOneShot(S.Instance.getAudioClip("flop_card")),_(this.node).to(n,{scale:new d(0,e,e)}).start(),t.next=6,T(n);case 6:return this.changeSprite(i),_(this.node).to(n,{scale:new d(e,e,e)}).start(),t.next=10,T(n);case 10:case"end":return t.stop()}}),t,this)})));return function(i){return t.apply(this,arguments)}}(),c.setTouchEvent=function(){this.node.on(g.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(g.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(g.EventType.TOUCH_END,this.onTouchEnded,this),this.node.on(g.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},c.clearTouchEvent=function(){this.node.targetOff(this.node)},c.setColliderStatus=function(t){this._collider.enabled=t,t?(this._collider.on(p.BEGIN_CONTACT,this.onContactBegan,this),this._collider.on(p.END_CONTACT,this.onContactEnd,this)):(this._collider.off(p.BEGIN_CONTACT,this.onContactBegan,this),this._collider.off(p.END_CONTACT,this.onContactEnd,this))},c.onTouchBegan=function(t){if(this._isDragable&&!this.isDragStart&&this.enabledInHierarchy){this.isDragStart=!0,this.setMoveMode();var i=t.getUILocation();this.node.setWorldPosition(new d(i.x,i.y,0)),S.Instance.eventTarget.emit("drag_start")}},c.onTouchMove=function(t){if(this._isDragable&&this.isDragStart&&this.enabledInHierarchy){var i=t.getUIStartLocation(),e=t.getUILocation(),n=t.getUILocation();n.subtract(i),n.lengthSqr()>20&&(this.node.setWorldPosition(new d(e.x,e.y,0)),this._isDraging=!0)}},c.onTouchEnded=function(t){this.stopDrag(t)},c.onTouchCancel=function(t){this.stopDrag(t)},c.stopDrag=function(t){if(this._isDragable&&this.isDragStart&&this.enabledInHierarchy){if(this.isDragStart=!1,this._isDraging=!1,this._contactBoxList.length>0){this._contactBoxList.length>1&&this._contactBoxList.splice(1,this._contactBoxList.length-1);var i=this._contactBoxList[0];i.cardPushed(this.point),this.setPushMode(i.group,i.node.worldPosition),D.inst.playOneShot(S.Instance.getAudioClip("push_card"))}else this.setHandMode();S.Instance.eventTarget.emit("drag_end")}},c.onContactBegan=function(t,i,e){if(0!=i.tag){var n=i.getComponent(v);if(C("撞擊!<group "+n.group+"> "+n.name+" >> point: "+n.point),n.point>-1)C("有人在這位置上了<group "+n.group+"> "+n.name);else{if(this._contactBoxList.length>0)if(d.distance(this.node.worldPosition,this._contactBoxList[0].node.worldPosition)>d.distance(this.node.worldPosition,n.node.worldPosition))return this._contactBoxList.unshift(n),void C("加入<group "+n.group+"> "+n.name+"| 目前撞擊存檔有"+this._contactBoxList.length+"個物件");this._contactBoxList.push(n),C("加入<group "+n.group+"> "+n.name+"| 目前撞擊存檔有"+this._contactBoxList.length+"個物件")}}},c.onContactEnd=function(t,i,e){if(0!=i.tag){var n=i.getComponent(v);if(C("沒撞了!<group "+n.group+"> "+n.name),this._isDraging&&this._contactBoxList.length>0){var o=this._contactBoxList.findIndex((function(t){return t.name==n.name&&t.group==n.group}));if(o>-1){this._contactBoxList[o].waitForPlayerMoveCard();var s=this._contactBoxList.splice(o,1);C("再見了 <group "+s[0].group+"> "+s[0].name)}}}},n(i,[{key:"isDragable",set:function(t){this._isDragable=t,this.clearTouchEvent(),t&&this.setTouchEvent()}}]),i}(f)).prototype,"_sprite",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=i(L.prototype,"_collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=L))||B));c._RF.pop()}}}));

System.register("chunks:///_virtual/CardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Card.ts","./SourceManager.ts","./Common.ts"],(function(t){var r,n,e,a,i,s,o,c,d,u,h,f,l,p,g,C,L,v;return{setters:[function(t){r=t.applyDecoratedDescriptor,n=t.inheritsLoose,e=t.createForOfIteratorHelperLoose,a=t.initializerDefineProperty,i=t.assertThisInitialized,s=t.asyncToGenerator,o=t.regeneratorRuntime},function(t){c=t.cclegacy,d=t._decorator,u=t.Node,h=t.randomRangeInt,f=t.instantiate,l=t.Vec3,p=t.Component,g=t.tween},function(t){C=t.Card},function(t){L=t.SourceManager},function(t){v=t.WaitForSeconds}],execute:function(){var D,b,m,I,_,S;c._RF.push({},"73bdaFz0gJNZ4Cl5RT39IqS","CardManager",void 0);var y=d.ccclass,N=d.property;t("CardManager",(D=y("CardManager"),b=N({type:u,visible:!0}),D(((S=function(t){function r(){for(var r,n=arguments.length,e=new Array(n),s=0;s<n;s++)e[s]=arguments[s];return(r=t.call.apply(t,[this].concat(e))||this).cardNumberList=[0,0,0,0,0,0],r.cardsList=[],a(r,"_handCardCenter",_,i(r)),r}n(r,t);var c=r.prototype;return c.start=function(){L.Instance.eventTarget.on("drag_start",this.onCardDragStart.bind(this)),L.Instance.eventTarget.on("drag_end",this.onCardDragEnd.bind(this))},c.clearCards=function(){for(;this.cardsList.length>0;){var t=this.cardsList.pop();t.resetCard(),t.node.removeFromParent(),t.node.destroy()}this.cardNumberList=[0,0,0,0,0,0]},c.randomPlayerCards=function(){this.randomDivisionCard(r.DIV_A_LIST,r.CARD_DIV[0][0],r.CARD_DIV[0][1]),this.randomDivisionCard(r.DIV_B_LIST,r.CARD_DIV[1][0],r.CARD_DIV[1][1]),this.randomDivisionCard(r.DIV_C_LIST,r.CARD_DIV[2][0],r.CARD_DIV[2][1])},c.setEnemyCards=function(){for(var t=0;t<this.cardNumberList.length;t++)this.cardNumberList[t]=r.DIV_ENEMY_LIST[t]},c.randomDivisionCard=function(t,r,n){if(!(r<0||n<0||r>=this.cardNumberList.length||n>=this.cardNumberList.length)){var e=t[h(0,t.length)];0==h(0,2)?(this.cardNumberList[r]=e[0],this.cardNumberList[n]=e[1]):(this.cardNumberList[n]=e[0],this.cardNumberList[r]=e[1])}},c.createCards=function(t){void 0===t&&(t=!1);for(var r=L.Instance.cardPrefab,n=L.Instance.backSpriteFrame,e=this.cardNumberList.length/2-.5,a=this._handCardCenter.position.y,i=0;i<this.cardNumberList.length;i++){var s=f(r);s.setParent(this.node),s.setSiblingIndex(0);var o=s.getComponent(C);o.point=this.cardNumberList[i],o.tableGroup=-1,o.changeSprite(n);var c=e-i,d=10*c,u=new l(120*-c,a,0);o.setHandAngleAndPos(d,u,t),o.setHandMode(),o.node.position=new l(u.x,1.5*u.y,0),this.cardsList.push(o)}},c.sortHandPos=function(){for(var t=this.cardsList.filter((function(t){return!t.isDragStart&&-1==t.tableGroup})),r=t.length/2-.5,n=this._handCardCenter.position.y,e=0;e<t.length;e++){var a=r-e,i=10*a,s=new l(120*-a,n,0);t[e].setHandAngleAndPos(i,s,!1),t[e].node.setSiblingIndex(0)}},c.doMoveIn=function(){var t=s(o().mark((function t(){var r,n,e,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=.32,n=this._handCardCenter.position.y,e=0;case 3:if(!(e<this.cardsList.length)){t.next=11;break}return a=this.cardsList[e].node.position,g(this.cardsList[e].node).to(r,{position:new l(a.x,n,0)},{easing:"circOut"}).start(),t.next=8,v(.1);case 8:e++,t.next=3;break;case 11:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.flopCards=function(){var t=s(o().mark((function t(){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=L.Instance.frontSpriteFrameList,n=0;case 2:if(!(n<this.cardsList.length)){t.next=9;break}return this.cardsList[n].flop(r[this.cardsList[n].point-1]),t.next=6,v(.1);case 6:n++,t.next=2;break;case 9:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),c.flopGroupCards=function(){var t=s(o().mark((function t(r){var n,e,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(n=L.Instance.frontSpriteFrameList,e=this.cardsList.filter((function(t){return t.tableGroup==r})),a=0;a<e.length;a++)e[a].flop(n[e[a].point-1]);return t.next=5,v(.5);case 5:case"end":return t.stop()}}),t,this)})));return function(r){return t.apply(this,arguments)}}(),c.setCanDropCard=function(){for(var t=0;t<this.cardsList.length;t++)this.cardsList[t].isDragable=!0},c.checkNoMoreHandCard=function(){for(var t=!0,r=0;r<this.cardsList.length;r++)if(-1==this.cardsList[r].tableGroup){t=!1;break}return t},c.pushAllCards=function(t){for(var r=0;r<this.cardsList.length;r++)if(r<t.length){var n=Math.floor(r/2);this.cardsList[r].setPushMode(n,t[r]),this.cardsList[r].node.setScale(new l(1,1,1))}},c.onCardDragStart=function(){this.sortHandPos()},c.onCardDragEnd=function(){this.sortHandPos()},c.stopTouchDragCards=function(){for(var t=0;t<this.cardsList.length;t++)this.cardsList[t].isDragable=!1},c.getSameGroupCardPoints=function(t){for(var r,n=this.cardsList.filter((function(r){return r.tableGroup==t})),a=0,i=e(n);!(r=i()).done;){a+=r.value.point}return a},r}(p)).CARD_DIV=[[0,3],[1,4],[2,5]],S.DIV_A_LIST=[[1,7],[2,6],[3,5],[4,4]],S.DIV_B_LIST=[[1,5],[2,4],[3,3]],S.DIV_C_LIST=[[1,6],[2,5],[3,4]],S.DIV_ENEMY_LIST=[5,1,1,3,2,3],_=r((I=S).prototype,"_handCardCenter",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=I))||m));c._RF.pop()}}}));

System.register("chunks:///_virtual/CharacterManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){var e,n,t,r,a,l,o,s,c;return{setters:[function(i){e=i.applyDecoratedDescriptor,n=i.inheritsLoose,t=i.createClass,r=i.initializerDefineProperty,a=i.assertThisInitialized},function(i){l=i.cclegacy,o=i._decorator,s=i.sp,c=i.Component}],execute:function(){var u,p,m,y,h,f,b,A,_,d,g;l._RF.push({},"d5f40hlwsNDYoh5s2U2IJ+y","CharacterManager",void 0);var k=o.ccclass,v=o.property;i("CharacterManager",(u=k("CharacterManager"),p=v({type:s.Skeleton,visible:!0}),m=v({visible:!0}),y=v({visible:!0}),h=v({visible:!0}),u((A=e((b=function(i){function e(){for(var e,n=arguments.length,t=new Array(n),l=0;l<n;l++)t[l]=arguments[l];return e=i.call.apply(i,[this].concat(t))||this,r(e,"_spine",A,a(e)),r(e,"idleAnimName",_,a(e)),r(e,"winAnimName",d,a(e)),r(e,"loseAnimName",g,a(e)),e._trackEntry=null,e}n(e,i);var l=e.prototype;return l.start=function(){this.playIdle()},l.playIdle=function(){this.playSpineAnim(this.idleAnimName)},l.playWin=function(){this.playSpineAnim(this.winAnimName)},l.playLose=function(){this.playSpineAnim(this.loseAnimName)},l.playSpineAnim=function(i){null!=this._trackEntry&&(this._spine.clearAnimation(0),this._trackEntry=null),this._trackEntry=this._spine.setAnimation(0,i,!1),this._spine.updateAnimation(0)},t(e,[{key:"animDuration",get:function(){return null!=this._trackEntry?this._trackEntry.animation.duration:0}},{key:"isComplete",get:function(){return null==this._trackEntry||this._trackEntry.isComplete()}}]),e}(c)).prototype,"_spine",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=e(b.prototype,"idleAnimName",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"idle"}}),d=e(b.prototype,"winAnimName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"idle"}}),g=e(b.prototype,"loseAnimName",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"idle"}}),f=b))||f));l._RF.pop()}}}));

System.register("chunks:///_virtual/Common.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy}],execute:function(){e({Debug:function(e){},ReleaseAsyncSource:function(){for(var e=0;e<r.length;e++)clearTimeout(r[e]);r=[]},WaitForSeconds:function(e){var t=0;return new Promise((function(n){t=setTimeout(n,1e3*e),r.push(t)}))}}),n._RF.push({},"fa161qNcwNASrqXRNdlXWJw","Common",void 0);e("Queue",function(){function e(){this._store=[]}var n=e.prototype;return n.Dequeue=function(){if(this._store.length<=0)return console.error("[Queue] Queue Element Not Exist "),null;var e=this._store[0];return this._store.shift(),e},n.Enqueue=function(e){this._store.push(e)},n.Clear=function(){this._store=[]},t(e,[{key:"Count",get:function(){return this._store.length}}]),e}()),e("Delegate",function(){function e(){this._callbacks=void 0,this._callbacks=[]}var n=e.prototype;return n.Insert=function(e,t){for(var n=!1,r=0;r<this._callbacks.length;r++)this._callbacks[r].func==e&&this._callbacks[r].owner==t&&(n=!0);if(n)return console.error("Registered Error."),console.error(e),void console.error(t);var o={func:e,owner:t};this._callbacks.push(o)},n.Remove=function(e,t){this._callbacks=this._callbacks.filter((function(n){return!(n.func==e&&n.owner==t)}))},n.Notify=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._callbacks.map((function(e){e.func.bind(e.owner).apply(void 0,t)}))},n.Clear=function(){this._callbacks=[]},t(e,[{key:"Length",get:function(){return this._callbacks.length}}]),e}());var r=[];n._RF.pop()}}}));

System.register("chunks:///_virtual/debug-view-runtime-control.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,o,i,n,s,l,r,a,g,h,p,c,C,d,m,u,L;return{setters:[function(t){e=t.applyDecoratedDescriptor,o=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Canvas,g=t.UITransform,h=t.instantiate,p=t.Label,c=t.Color,C=t.RichText,d=t.Toggle,m=t.Button,u=t.director,L=t.Component}],execute:function(){var f,M,b,v,T,S,x,E,I;s._RF.push({},"b2bd1+njXxJxaFY3ymm06WU","debug-view-runtime-control",void 0);var A=l.ccclass,y=l.property;t("DebugViewRuntimeControl",(f=A("internal.DebugViewRuntimeControl"),M=y(r),b=y(r),v=y(r),f((x=e((S=function(t){function e(){for(var e,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"compositeModeToggle",x,n(e)),i(e,"singleModeToggle",E,n(e)),i(e,"EnableAllCompositeModeButton",I,n(e)),e._single=0,e.strSingle=["No Single Debug","Vertex Color","Vertex Normal","Vertex Tangent","World Position","Vertex Mirror","Face Side","UV0","UV1","UV Lightmap","Project Depth","Linear Depth","Fragment Normal","Fragment Tangent","Fragment Binormal","Base Color","Diffuse Color","Specular Color","Transparency","Metallic","Roughness","Specular Intensity","IOR","Direct Diffuse","Direct Specular","Direct All","Env Diffuse","Env Specular","Env All","Emissive","Light Map","Shadow","AO","Fresnel","Direct Transmit Diffuse","Direct Transmit Specular","Env Transmit Diffuse","Env Transmit Specular","Transmit All","Direct Internal Specular","Env Internal Specular","Internal All","Fog"],e.strComposite=["Direct Diffuse","Direct Specular","Env Diffuse","Env Specular","Emissive","Light Map","Shadow","AO","Normal Map","Fog","Tone Mapping","Gamma Correction","Fresnel","Transmit Diffuse","Transmit Specular","Internal Specular","TT"],e.strMisc=["CSM Layer Coloration","Lighting With Albedo"],e.compositeModeToggleList=[],e.singleModeToggleList=[],e.miscModeToggleList=[],e.textComponentList=[],e.labelComponentList=[],e.textContentList=[],e.hideButtonLabel=void 0,e._currentColorIndex=0,e.strColor=["<color=#ffffff>","<color=#000000>","<color=#ff0000>","<color=#00ff00>","<color=#0000ff>"],e.color=[c.WHITE,c.BLACK,c.RED,c.GREEN,c.BLUE],e}o(e,t);var s=e.prototype;return s.start=function(){if(this.node.parent.getComponent(a)){var t=this.node.parent.getComponent(g),e=.5*t.width,o=.5*t.height,i=.1*e-e,n=o-.1*o,s=this.node.getChildByName("MiscMode"),l=h(s);l.parent=this.node,l.name="Buttons";var r=h(s);r.parent=this.node,r.name="Titles";for(var u=0;u<2;u++){var L=h(this.EnableAllCompositeModeButton.getChildByName("Label"));L.setPosition(i+(u>0?450:150),n,0),L.setScale(.75,.75,.75),L.parent=r;var f=L.getComponent(p);f.string=u?"----------Composite Mode----------":"----------Single Mode----------",f.color=c.WHITE,f.overflow=0,this.labelComponentList[this.labelComponentList.length]=f}n-=20;for(var M=0,b=0;b<this.strSingle.length;b++,M++){b===this.strSingle.length>>1&&(i+=200,M=0);var v=b?h(this.singleModeToggle):this.singleModeToggle;v.setPosition(i,n-20*M,0),v.setScale(.5,.5,.5),v.parent=this.singleModeToggle.parent;var T=v.getComponentInChildren(C);T.string=this.strSingle[b],this.textComponentList[this.textComponentList.length]=T,this.textContentList[this.textContentList.length]=T.string,v.on(d.EventType.TOGGLE,this.toggleSingleMode,this),this.singleModeToggleList[b]=v}i+=200,this.EnableAllCompositeModeButton.setPosition(i+15,n,0),this.EnableAllCompositeModeButton.setScale(.5,.5,.5),this.EnableAllCompositeModeButton.on(m.EventType.CLICK,this.enableAllCompositeMode,this),this.EnableAllCompositeModeButton.parent=l;var S=this.EnableAllCompositeModeButton.getComponentInChildren(p);this.labelComponentList[this.labelComponentList.length]=S;var x=h(this.EnableAllCompositeModeButton);x.setPosition(i+90,n,0),x.setScale(.5,.5,.5),x.on(m.EventType.CLICK,this.changeTextColor,this),x.parent=l,(S=x.getComponentInChildren(p)).string="TextColor",this.labelComponentList[this.labelComponentList.length]=S;var E=h(this.EnableAllCompositeModeButton);E.setPosition(i+200,n,0),E.setScale(.5,.5,.5),E.on(m.EventType.CLICK,this.hideUI,this),E.parent=this.node.parent,(S=E.getComponentInChildren(p)).string="Hide UI",this.labelComponentList[this.labelComponentList.length]=S,this.hideButtonLabel=S,n-=40;for(var I=0;I<this.strMisc.length;I++){var A=h(this.compositeModeToggle);A.setPosition(i,n-20*I,0),A.setScale(.5,.5,.5),A.parent=s;var y=A.getComponentInChildren(C);y.string=this.strMisc[I],this.textComponentList[this.textComponentList.length]=y,this.textContentList[this.textContentList.length]=y.string,A.getComponent(d).isChecked=!!I,A.on(d.EventType.TOGGLE,I?this.toggleLightingWithAlbedo:this.toggleCSMColoration,this),this.miscModeToggleList[I]=A}n-=150;for(var D=0;D<this.strComposite.length;D++){var B=D?h(this.compositeModeToggle):this.compositeModeToggle;B.setPosition(i,n-20*D,0),B.setScale(.5,.5,.5),B.parent=this.compositeModeToggle.parent;var w=B.getComponentInChildren(C);w.string=this.strComposite[D],this.textComponentList[this.textComponentList.length]=w,this.textContentList[this.textContentList.length]=w.string,B.on(d.EventType.TOGGLE,this.toggleCompositeMode,this),this.compositeModeToggleList[D]=B}}else console.error("debug-view-runtime-control should be child of Canvas")},s.isTextMatched=function(t,e){var o=new String(t),i=o.search(">");return-1===i?t===e:(o=(o=o.substr(i+1)).substr(0,o.search("<")))===e},s.toggleSingleMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strSingle.length;i++)this.isTextMatched(o.string,this.strSingle[i])&&(e.singleMode=i)},s.toggleCompositeMode=function(t){for(var e=u.root.debugView,o=t.getComponentInChildren(C),i=0;i<this.strComposite.length;i++)this.isTextMatched(o.string,this.strComposite[i])&&e.enableCompositeMode(i,t.isChecked)},s.toggleLightingWithAlbedo=function(t){u.root.debugView.lightingWithAlbedo=t.isChecked},s.toggleCSMColoration=function(t){u.root.debugView.csmLayerColoration=t.isChecked},s.enableAllCompositeMode=function(t){var e=u.root.debugView;e.enableAllCompositeMode(!0);for(var o=0;o<this.compositeModeToggleList.length;o++){this.compositeModeToggleList[o].getComponent(d).isChecked=!0}var i=this.miscModeToggleList[0].getComponent(d);i.isChecked=!1,e.csmLayerColoration=!1,(i=this.miscModeToggleList[1].getComponent(d)).isChecked=!0,e.lightingWithAlbedo=!0},s.hideUI=function(t){var e=this.node.getChildByName("Titles"),o=!e.active;this.singleModeToggleList[0].parent.active=o,this.miscModeToggleList[0].parent.active=o,this.compositeModeToggleList[0].parent.active=o,this.EnableAllCompositeModeButton.parent.active=o,e.active=o,this.hideButtonLabel.string=o?"Hide UI":"Show UI"},s.changeTextColor=function(t){this._currentColorIndex++,this._currentColorIndex>=this.strColor.length&&(this._currentColorIndex=0);for(var e=0;e<this.textComponentList.length;e++)this.textComponentList[e].string=this.strColor[this._currentColorIndex]+this.textContentList[e]+"</color>";for(var o=0;o<this.labelComponentList.length;o++)this.labelComponentList[o].color=this.color[this._currentColorIndex]},s.onLoad=function(){},s.update=function(t){},e}(L)).prototype,"compositeModeToggle",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=e(S.prototype,"singleModeToggle",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=e(S.prototype,"EnableAllCompositeModeButton",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=S))||T));s._RF.pop()}}}));

System.register("chunks:///_virtual/FightBox.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Common.ts","./FightBoxSite.ts"],(function(i){var e,t,n,r,o,l,a,s,u,c,p,b,y,_,h;return{setters:[function(i){e=i.applyDecoratedDescriptor,t=i.inheritsLoose,n=i.initializerDefineProperty,r=i.assertThisInitialized,o=i.asyncToGenerator,l=i.regeneratorRuntime},function(i){a=i.cclegacy,s=i._decorator,u=i.Node,c=i.Label,p=i.Animation,b=i.Component,y=i.Vec3},function(i){_=i.WaitForSeconds},function(i){h=i.FightBoxSite}],execute:function(){var f,g,w,m,P,v,L,x,d,B,z,F,C,R,S,A,M,k,D,T,W;a._RF.push({},"6c602TzgzdJy60Qpfk6gv9U","FightBox",void 0);var j=s.ccclass,E=s.property;i("FightBox",(f=j("FightBox"),g=E({type:h,visible:!0}),w=E({type:h,visible:!0}),m=E({type:u,visible:!0}),P=E({type:u,visible:!0}),v=E({type:c,visible:!0}),L=E({type:c,visible:!0}),x=E({type:u,visible:!0}),d=E({type:c,visible:!0}),B=E({type:p,visible:!0}),f((C=e((F=function(i){function e(){for(var e,t=arguments.length,o=new Array(t),l=0;l<t;l++)o[l]=arguments[l];return e=i.call.apply(i,[this].concat(o))||this,n(e,"_siteL",C,r(e)),n(e,"_siteR",R,r(e)),n(e,"_playerBox",S,r(e)),n(e,"_enemyBox",A,r(e)),n(e,"_playerPointLabel",M,r(e)),n(e,"_enemyPointLabel",k,r(e)),n(e,"_winBox",D,r(e)),n(e,"_winPointLabel",T,r(e)),n(e,"_winAnimation",W,r(e)),e}t(e,i);var a=e.prototype;return a.init=function(i){this._siteL.group=i,this._siteR.group=i,this._siteL.point=-1,this._siteR.point=-1,this._siteL.closeCollider(),this._siteR.closeCollider(),this._winBox.active=!1,this._winPointLabel.string="",this._playerPointLabel.string="",this._enemyPointLabel.string=""},a.waitForPlayeMoved=function(){this._siteL.waitForPlayerMoveCard(),this._siteR.waitForPlayerMoveCard()},a.showPlayerPoint=function(i){this._playerPointLabel.string=i.toString()},a.showEnemyPoint=function(i){this._enemyPointLabel.string=i.toString()},a.doShowWinner=function(){var i=o(l().mark((function i(e){var t,n,r;return l().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return t=new y(e?this._playerBox.worldPosition:this._enemyBox.worldPosition),n=e?-200:200,r=new y(t.x,t.y+n,t.z),this._winBox.active=!0,this._winBox.worldPosition=t,this._winPointLabel.string=e?this._playerPointLabel.string:this._enemyPointLabel.string,this._winAnimation.play(),console.log("{CCC}startPos:"+t+" ; endPos:"+r),i.next=10,_(.1);case 10:return i.abrupt("return",[t,r]);case 11:case"end":return i.stop()}}),i,this)})));return function(e){return i.apply(this,arguments)}}(),e}(b)).prototype,"_siteL",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=e(F.prototype,"_siteR",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=e(F.prototype,"_playerBox",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(F.prototype,"_enemyBox",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(F.prototype,"_playerPointLabel",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=e(F.prototype,"_enemyPointLabel",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(F.prototype,"_winBox",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(F.prototype,"_winPointLabel",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=e(F.prototype,"_winAnimation",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=F))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/FightBoxSite.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,r,o,n,l,c,a;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,r=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){n=e.cclegacy,l=e._decorator,c=e.BoxCollider2D,a=e.Component}],execute:function(){var s,u,p,d,h;n._RF.push({},"a4daaHm3cdHiJyu2nLzEebI","FightBoxSite",void 0);var f=l.ccclass,y=l.property;e("FightBoxSite",(s=f("FightBoxSite"),u=y({type:c,visible:!0}),s((h=i((d=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),l=0;l<t;l++)n[l]=arguments[l];return i=e.call.apply(e,[this].concat(n))||this,r(i,"_collider",h,o(i)),i.group=-1,i.point=-1,i}t(i,e);var n=i.prototype;return n.waitForPlayerMoveCard=function(){this._collider.enabled=!0,this.point=-1},n.closeCollider=function(){this._collider.enabled=!1},n.cardPushed=function(e){this.point=e},i}(a)).prototype,"_collider",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=d))||p));n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./debug-view-runtime-control.ts","./TestCode.ts","./Common.ts","./AudioManager.ts","./BattleSystem.ts","./Card.ts","./CardManager.ts","./CharacterManager.ts","./FightBox.ts","./FightBoxSite.ts","./SourceManager.ts","./TableManager.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SourceManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,r,t,n,a,o,u,l,c,p,s,f;return{setters:[function(e){i=e.applyDecoratedDescriptor,r=e.initializerDefineProperty,t=e.inheritsLoose,n=e.createClass,a=e.assertThisInitialized},function(e){o=e.cclegacy,u=e._decorator,l=e.AudioClip,c=e.Prefab,p=e.SpriteFrame,s=e.EventTarget,f=e.Component}],execute:function(){var b,d,y,g,h,m,v,L,S,C,w,z,A,M,k,E,F,P,R;o._RF.push({},"692afrlwQVJibDR+V0KL6/S","SourceManager",void 0);var _=u.ccclass,D=u.property,T=e("default",(A=_("AudioMap"),M=D({visible:!0}),k=D(l),A((P=i((F=function(){r(this,"key",P,this),r(this,"audioClip",R,this)}).prototype,"key",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),R=i(F.prototype,"audioClip",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=F))||E));e("SourceManager",(b=_("SourceManager"),d=D(c),y=D(p),g=D([p]),h=D([T]),b(((z=function(e){function i(){for(var i,t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return i=e.call.apply(e,[this].concat(n))||this,r(i,"cardPrefab",L,a(i)),r(i,"backSpriteFrame",S,a(i)),r(i,"frontSpriteFrameList",C,a(i)),i.eventTarget=new s,r(i,"audioClipList",w,a(i)),i}t(i,e);var o=i.prototype;return o.onLoad=function(){i._instance=this},o.getAudioClip=function(e){var i=this.audioClipList.find((function(i){return i.key==e}));return null!=i?i.audioClip:null},n(i,null,[{key:"Instance",get:function(){return this._instance}}]),i}(f))._instance=null,L=i((v=z).prototype,"cardPrefab",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=i(v.prototype,"backSpriteFrame",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=i(v.prototype,"frontSpriteFrameList",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=i(v.prototype,"audioClipList",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),m=v))||m)),e("WinnerType",function(e){return e[e.DRAW=0]="DRAW",e[e.PLAYER=1]="PLAYER",e[e.ENEMY=2]="ENEMY",e}({}));o._RF.pop()}}}));

System.register("chunks:///_virtual/TableManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./FightBox.ts","./Common.ts","./SourceManager.ts","./AudioManager.ts"],(function(e){var t,n,i,r,o,a,s,c,u,l,p,f,h,y,d,w,g,b,v,_,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.createForOfIteratorHelperLoose,r=e.createClass,o=e.initializerDefineProperty,a=e.assertThisInitialized,s=e.asyncToGenerator,c=e.regeneratorRuntime},function(e){u=e.cclegacy,l=e._decorator,p=e.Sprite,f=e.Node,h=e.Component,y=e.Vec3,d=e.tween,w=e.Color},function(e){g=e.FightBox},function(e){b=e.WaitForSeconds},function(e){v=e.WinnerType,_=e.SourceManager},function(e){x=e.AudioManager}],execute:function(){var L,m,P,W,I,S,C,M,F;u._RF.push({},"87e3d+DWmBI7o0FeP1x03ew","TableManager",void 0);var T=l.ccclass,A=l.property;e("TableManager",(L=T("TableManager"),m=A({type:[g],visible:!0}),P=A({type:[p],visible:!0}),W=A({type:[f],visible:!0}),L((C=t((S=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return t=e.call.apply(e,[this].concat(i))||this,o(t,"_boxList",C,a(t)),o(t,"_winIconList",M,a(t)),o(t,"_enemySiteList",F,a(t)),t._playerWinnerCount=0,t}n(t,e);var u=t.prototype;return u.start=function(){this.init()},u.init=function(){for(var e=0;e<this._boxList.length;e++)this._boxList[e].init(e);this.initWinIcons()},u.waitForPlayeMoved=function(){for(var e=0;e<this._boxList.length;e++)this._boxList[e].waitForPlayeMoved()},u.getEnemyCardSitePos=function(){for(var e=[],t=0;t<this._enemySiteList.length;t++)e.push(this._enemySiteList[t].worldPosition);return e},u.setBoxPoints=function(){var e=s(c().mark((function e(t,n,i,r){var o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n==v.PLAYER&&this._playerWinnerCount++,(o=this._boxList[t]).showPlayerPoint(i),o.showEnemyPoint(r),e.next=6,b(1);case 6:if(n==v.DRAW){e.next=12;break}return e.next=9,o.doShowWinner(n==v.PLAYER);case 9:return a=e.sent,e.next=12,this.doTweenWinIcon(t,a[0],a[1]);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,i,r){return e.apply(this,arguments)}}(),u.initWinIcons=function(){for(var e,t=i(this._winIconList);!(e=t()).done;){e.value.node.active=!1}},u.doTweenWinIcon=function(){var e=s(c().mark((function e(t,n,i){var r,o,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=this._winIconList[t],o=new y(n.x,.5*(i.y-n.y)+n.y,n.z),r.node.setWorldPosition(n),r.color.set(255,255,255,100),r.node.scale.set(.8,.8,.8),a=.25,r.node.active=!0,d(r.node).to(a,{scale:new y(1.2,1.2,1),worldPosition:o},{easing:"cubicInOut"}).to(a,{scale:new y(1,1,1),worldPosition:i}).start(),d(r).to(a,{color:new w(255,255,255,255)}).start(),x.inst.playOneShot(_.Instance.getAudioClip("win_icon")),e.next=12,b(.5);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n,i){return e.apply(this,arguments)}}(),r(t,[{key:"fightBoxCount",get:function(){return this._boxList.length}},{key:"playerWinnerCount",get:function(){return this._playerWinnerCount}}]),t}(h)).prototype,"_boxList",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),M=t(S.prototype,"_winIconList",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),F=t(S.prototype,"_enemySiteList",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),I=S))||I));u._RF.pop()}}}));

System.register("chunks:///_virtual/TestCode.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,o,i,r,a,c,s,u,l,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){r=t.cclegacy,a=t._decorator,c=t.Node,s=t.BoxCollider2D,u=t.Contact2DType,l=t.Vec3,h=t.Component}],execute:function(){var p,T,d,g,f,y,C;r._RF.push({},"0e000F/2TtHg6h6mP+iO1bT","TestCode",void 0);var v=a.ccclass,b=a.property;t("TestCode",(p=v("TestCode"),T=b(c),d=b(c),p((y=e((f=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"target",y,i(e)),o(e,"parking",C,i(e)),e}n(e,t);var r=e.prototype;return r.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnded,this),this.target.getComponent(s).on(u.BEGIN_CONTACT,this.onContactBegan,this)},r.onContactBegan=function(t,e,n){},r.onTouchBegan=function(t){var e=t.getUILocation();this.target.setWorldPosition(new l(e.x,e.y,0))},r.onTouchMove=function(t){},r.onTouchEnded=function(t){},e}(h)).prototype,"target",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=e(f.prototype,"parking",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=f))||g));r._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});